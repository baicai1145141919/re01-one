<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>baicai的网页</title>
    <style>
        body { margin: 0; padding: 0; overflow: hidden; background-color: #f5f5f5; }
        /* 原有飘动文字样式 */
        .float-text {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            pointer-events: auto;
            cursor: pointer;
            animation: float 6s infinite alternate ease-in-out;
            left: calc(Math.random() * 100vw);
            top: calc(Math.random() * 100vh);
        }
        @keyframes float {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); }
            25% { transform: translate(40px, -30px) rotate(8deg) scale(1.15); }
            50% { transform: translate(-30px, 40px) rotate(-6deg) scale(0.85); }
            75% { transform: translate(50px, 20px) rotate(4deg) scale(1.1); }
            100% { transform: translate(-40px, -50px) rotate(-3deg) scale(1); }
        }
        .float-text:nth-child(1) { animation-duration: 5s; animation-delay: 0s; color: #e74c3c; }
        .float-text:nth-child(2) { animation-duration: 7s; animation-delay: 0.3s; color: #3498db; }
        .float-text:nth-child(3) { animation-duration: 6s; animation-delay: 0.6s; color: #2ecc71; }
        .float-text:nth-child(4) { animation-duration: 8s; animation-delay: 0.9s; color: #f39c12; }
        .float-text:nth-child(5) { animation-duration: 5.5s; animation-delay: 1.2s; color: #9b59b6; }
        .float-text:nth-child(6) { animation-duration: 6.5s; animation-delay: 1.5s; color: #1abc9c; }
        .float-text:active {
            transform: scale(1.4);
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            transition: all 0.2s;
        }

        /* 下落文字样式（带重力弹力） */
        .fall-text {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
            pointer-events: none; /* 不影响再次点击 */
            color: #e63946; /* 下落文字专属颜色 */
        }

        /* 手机适配：优化点击区域，添加提示文字 */
        .touch-hint {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            color: #666;
            font-size: 16px;
            pointer-events: none; /* 不遮挡点击 */
        }
    </style>
</head>
<body>
    <!-- 原有飘动文字 -->
    <div class="float-text">漂白水大大大</div>
    <div class="float-text">漂白水大大大</div>
    <div class="float-text">漂白水大大大</div>
    <div class="float-text">漂白水大大大</div>
    <div class="float-text">漂白水大大大</div>
    <div class="float-text">漂白水大大大</div>

    <!-- 手机触屏提示 -->
    <div class="touch-hint">点击屏幕 / 按空格键 生成下落文字</div>

    <script>
        // 重力加速度（像素/帧²）
        const GRAVITY = 0.5;
        // 地面高度（底部留白20px）
        const GROUND_HEIGHT = 20;
        // 存储所有下落文字的动画状态
        const fallingTexts = [];

        // 生成下落文字的核心函数
        function createFallingText() {
            const text = document.createElement('div');
            text.className = 'fall-text';
            text.textContent = '漂白水大大大';
            document.body.appendChild(text);

            // 初始化文字状态：位置、速度、弹跳系数（无能量损耗=1）
            fallingTexts.push({
                elem: text,
                x: window.innerWidth / 2 - text.offsetWidth / 2, // 水平居中
                y: 0, // 顶部开始
                vx: (Math.random() - 0.5) * 3, // 水平随机初速度（-1.5~1.5）
                vy: 0, // 垂直初速度0
                bounce: 1 // 弹力系数（无损耗）
            });
        }

        // 1. 空格触发（电脑）
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space' && !e.repeat) { // 避免长按连续生成
                createFallingText();
            }
        });

        // 2. 触屏点击触发（手机/平板）
        document.addEventListener('touchstart', (e) => {
            e.preventDefault(); // 阻止默认行为（如页面滚动）
            createFallingText();
        }, { passive: false });

        // 3. 鼠标点击触发（补充：电脑也能点击屏幕生成）
        document.addEventListener('click', () => {
            createFallingText();
        });

        // 动画帧循环，处理重力和弹跳
        function animate() {
            fallingTexts.forEach((textObj) => {
                const { elem } = textObj;

                // 更新速度（重力叠加）
                textObj.vy += GRAVITY;
                // 更新位置
                textObj.x += textObj.vx;
                textObj.y += textObj.vy;

                // 碰撞检测：碰到地面反弹
                if (textObj.y + elem.offsetHeight >= window.innerHeight - GROUND_HEIGHT) {
                    textObj.y = window.innerHeight - GROUND_HEIGHT - elem.offsetHeight;
                    textObj.vy = -textObj.vy * textObj.bounce; // 反向速度（无损耗）
                    textObj.vx *= 0.98; // 水平速度轻微衰减（避免无限滑动）
                }

                // 水平边界碰撞（左右反弹）
                if (textObj.x <= 0 || textObj.x + elem.offsetWidth >= window.innerWidth) {
                    textObj.vx = -textObj.vx * textObj.bounce;
                    textObj.x = Math.max(0, Math.min(textObj.x, window.innerWidth - elem.offsetWidth));
                }

                // 更新DOM位置
                elem.style.left = `${textObj.x}px`;
                elem.style.top = `${textObj.y}px`;
            });

            requestAnimationFrame(animate);
        }

        // 启动动画
        animate();
    </script>
</body>
</html>
